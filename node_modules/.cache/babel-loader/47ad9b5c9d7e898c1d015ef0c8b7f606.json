{"ast":null,"code":"import axios from 'axios';\nimport AlertComponent from '@/components/AlertComponent.vue';\nexport default {\n  data() {\n    return {\n      user_info: null,\n      alert: '',\n      teacher_list: null,\n      alphabet: [{\n        symbol: 'А',\n        list: []\n      }, {\n        symbol: 'Б',\n        list: []\n      }, {\n        symbol: 'В',\n        list: []\n      }, {\n        symbol: 'Г',\n        list: []\n      }, {\n        symbol: 'Д',\n        list: []\n      }, {\n        symbol: 'Е',\n        list: []\n      }, {\n        symbol: 'Ё',\n        list: []\n      }, {\n        symbol: 'Ж',\n        list: []\n      }, {\n        symbol: 'З',\n        list: []\n      }, {\n        symbol: 'И',\n        list: []\n      }, {\n        symbol: 'Й',\n        list: []\n      }, {\n        symbol: 'К',\n        list: []\n      }, {\n        symbol: 'Л',\n        list: []\n      }, {\n        symbol: 'М',\n        list: []\n      }, {\n        symbol: 'Н',\n        list: []\n      }, {\n        symbol: 'О',\n        list: []\n      }, {\n        symbol: 'П',\n        list: []\n      }, {\n        symbol: 'Р',\n        list: []\n      }, {\n        symbol: 'С',\n        list: []\n      }, {\n        symbol: 'Т',\n        list: []\n      }, {\n        symbol: 'У',\n        list: []\n      }, {\n        symbol: 'Ф',\n        list: []\n      }, {\n        symbol: 'Х',\n        list: []\n      }, {\n        symbol: 'Ц',\n        list: []\n      }, {\n        symbol: 'Ч',\n        list: []\n      }, {\n        symbol: 'Ш',\n        list: []\n      }, {\n        symbol: 'Щ',\n        list: []\n      }, {\n        symbol: 'Ъ',\n        list: []\n      }, {\n        symbol: 'Ы',\n        list: []\n      }, {\n        symbol: 'Ь',\n        list: []\n      }, {\n        symbol: 'Э',\n        list: []\n      }, {\n        symbol: 'Ю',\n        list: []\n      }, {\n        symbol: 'Я',\n        list: []\n      }],\n      data_list: null\n    };\n  },\n\n  props: {\n    is_auth: Number,\n    token: String\n  },\n  components: {\n    AlertComponent\n  },\n  methods: {\n    user: function () {\n      if (this.is_auth >= 0) {\n        axios.get('http://localhost:5000/api/user/user-info?access_token=' + this.token, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(response => {\n          this.user_info = response.data[0].message; // Вызывать методы использующие пользовательские данные ниже\n\n          this.teacher_info(this.user_info.organization_id);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    },\n\n    symbols(list) {\n      var count = 0;\n\n      while (list.length > count) {\n        for (var i = 0; i < this.alphabet.length; i++) {\n          if (this.alphabet[i].symbol === list[count].last_name[0]) {\n            this.alphabet[i].list.push({\n              user_id: list[count].user_id,\n              first_name: list[count].first_name,\n              last_name: list[count].last_name\n            });\n          }\n        }\n\n        count++;\n      }\n\n      i = 0;\n\n      while (this.alphabet > i) {\n        if (this.alphabet[i].list.length > 0) {\n          this.inform(this.alphabet[i].symbol);\n          break;\n        }\n\n        i++;\n      }\n    },\n\n    teacher_info: function (organizationId) {\n      if (this.is_auth >= 0) {\n        axios.get('http://localhost:5000/api/user/all-user?role=Преподаватель&&organization_id=' + organizationId, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(response => {\n          this.teacher_list = response.data[0].message.users;\n          this.symbols(this.teacher_list);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    },\n\n    inform(symbol) {\n      var i = 0;\n\n      while (i < this.alphabet.length) {\n        if (symbol === this.alphabet[i].symbol) {\n          this.data_list = this.alphabet[i].list;\n          break;\n        }\n\n        i++;\n      }\n    }\n\n  },\n\n  mounted() {\n    this.user();\n  }\n\n};","map":{"version":3,"mappings":"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","names":["axios","AlertComponent","data","user_info","alert","teacher_list","alphabet","symbol","list","data_list","props","is_auth","Number","token","String","components","methods","user","get","headers","then","response","message","teacher_info","organization_id","catch","error","console","log","symbols","count","length","i","last_name","push","user_id","first_name","inform","organizationId","users","mounted"],"sourceRoot":"","sources":["/home/vuacheslavmironov/PAD/web/src/views/TimetableTicherView.vue"],"sourcesContent":["<template>\n    <main class=\"container_fluid\">\n        <!-- Компонент сообщения -->\n        <AlertComponent css_class=\"toast align-items-cente right\" v-bind:mess=\"this.alert\" />\n        <!-- END -->\n        <div class=\"container\">\n            <div class=\"row\">\n            <div class=\"col-12 mb-5\">\n              <ul class=\"d-flex\">\n                <li\n                  v-for=\"i in this.alphabet\"\n                  v-bind:key=\"i\"\n                >\n                  <strong\n                    v-on:click=\"inform(i.symbol)\"\n                    v-bind:class=\"i.list.length > 0 ? 'list m-07' : 'text-block m-07'\"\n                  >{{ i.symbol }}</strong>\n                </li>\n              </ul>\n            </div>\n            <div class=\"col-12\">\n                <div class=\"row\">\n                  <div\n                    v-for=\"i in this.data_list\"\n                    v-bind:key=\"i\"\n                    class=\"col-2\"\n                  >\n                    <a\n                      class=\"mt-3 d-block\"\n                      href=\"#\"\n                    >\n                      {{ i.last_name }} {{i.first_name }}\n                    </a>\n                  </div>\n                </div>\n            </div>\n            </div>\n        </div>\n    </main>\n</template>\n\n<script>\nimport axios from 'axios'\nimport AlertComponent from '@/components/AlertComponent.vue'\n\nexport default {\n  data () {\n    return {\n      user_info: null,\n      alert: '',\n      teacher_list: null,\n      alphabet: [\n        { symbol: 'А', list: [] },\n        { symbol: 'Б', list: [] },\n        { symbol: 'В', list: [] },\n        { symbol: 'Г', list: [] },\n        { symbol: 'Д', list: [] },\n        { symbol: 'Е', list: [] },\n        { symbol: 'Ё', list: [] },\n        { symbol: 'Ж', list: [] },\n        { symbol: 'З', list: [] },\n        { symbol: 'И', list: [] },\n        { symbol: 'Й', list: [] },\n        { symbol: 'К', list: [] },\n        { symbol: 'Л', list: [] },\n        { symbol: 'М', list: [] },\n        { symbol: 'Н', list: [] },\n        { symbol: 'О', list: [] },\n        { symbol: 'П', list: [] },\n        { symbol: 'Р', list: [] },\n        { symbol: 'С', list: [] },\n        { symbol: 'Т', list: [] },\n        { symbol: 'У', list: [] },\n        { symbol: 'Ф', list: [] },\n        { symbol: 'Х', list: [] },\n        { symbol: 'Ц', list: [] },\n        { symbol: 'Ч', list: [] },\n        { symbol: 'Ш', list: [] },\n        { symbol: 'Щ', list: [] },\n        { symbol: 'Ъ', list: [] },\n        { symbol: 'Ы', list: [] },\n        { symbol: 'Ь', list: [] },\n        { symbol: 'Э', list: [] },\n        { symbol: 'Ю', list: [] },\n        { symbol: 'Я', list: [] }\n      ],\n      data_list: null\n    }\n  },\n  props: {\n    is_auth: Number,\n    token: String\n  },\n  components: {\n    AlertComponent\n  },\n  methods: {\n    user: function () {\n      if (this.is_auth >= 0) {\n        axios.get('http://localhost:5000/api/user/user-info?access_token=' + this.token,\n          {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          })\n          .then((response) => {\n            this.user_info = response.data[0].message\n            // Вызывать методы использующие пользовательские данные ниже\n            this.teacher_info(this.user_info.organization_id)\n          })\n          .catch(function (error) {\n            console.log(error)\n          })\n      }\n    },\n    symbols (list) {\n      var count = 0\n      while (list.length > count) {\n        for (var i = 0; i < this.alphabet.length; i++) {\n          if (this.alphabet[i].symbol === list[count].last_name[0]) {\n            this.alphabet[i].list.push({\n              user_id: list[count].user_id,\n              first_name: list[count].first_name,\n              last_name: list[count].last_name\n            })\n          }\n        }\n        count++\n      }\n      i = 0\n      while (this.alphabet > i) {\n        if (this.alphabet[i].list.length > 0) {\n          this.inform(this.alphabet[i].symbol)\n          break\n        }\n        i++\n      }\n    },\n    teacher_info: function (organizationId) {\n      if (this.is_auth >= 0) {\n        axios.get('http://localhost:5000/api/user/all-user?role=Преподаватель&&organization_id=' + organizationId,\n          {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          })\n          .then((response) => {\n            this.teacher_list = response.data[0].message.users\n            this.symbols(this.teacher_list)\n          })\n          .catch(function (error) {\n            console.log(error)\n          })\n      }\n    },\n    inform (symbol) {\n      var i = 0\n      while (i < this.alphabet.length) {\n        if (symbol === this.alphabet[i].symbol) {\n          this.data_list = this.alphabet[i].list\n          break\n        }\n        i++\n      }\n    }\n  },\n  mounted () {\n    this.user()\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}