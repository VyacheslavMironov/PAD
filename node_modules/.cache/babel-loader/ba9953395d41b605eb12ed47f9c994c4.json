{"ast":null,"code":"import axios from 'axios';\nimport ButtonComponent from '@/components/ButtonComponent.vue';\nexport default {\n  data() {\n    return {\n      link_signin: '/signin',\n      link_signout: '/signout',\n      user_info: null\n    };\n  },\n\n  props: {\n    is_auth: Number,\n    token: String\n  },\n  components: {\n    ButtonComponent\n  },\n  methods: {\n    user: function () {\n      if (this.is_auth >= 0) {\n        axios.get('http://localhost:5000/api/user/user-info?access_token=' + this.token, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(response => {\n          this.user_info = response.data[0].message; // Определение искомого ID\n\n          var userId = null;\n          var groupId = null;\n\n          switch (this.user_info.role) {\n            case 'Администратор':\n              groupId = this.url_get.group_id;\n              userId = this.url_get.user_id;\n              break;\n\n            case 'Студент':\n              groupId = this.user_info.group_id;\n              userId = this.user_info.user_id;\n              break;\n          } // Вызывать методы использующие пользовательские данные ниже\n\n\n          this.load_lesson(this.user_info.organization_id, userId, groupId, this.user_info.role);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }\n  },\n\n  mounted() {\n    this.user();\n  }\n\n};","map":{"version":3,"mappings":"AA+HA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,kCAA5B;AAEA,eAAe;EACbC,IAAG,GAAK;IACN,OAAO;MACLC,WAAW,EAAE,SADR;MAELC,YAAY,EAAE,UAFT;MAGLC,SAAS,EAAE;IAHN,CAAP;EAKD,CAPY;;EAQbC,KAAK,EAAE;IACLC,OAAO,EAAEC,MADJ;IAELC,KAAK,EAAEC;EAFF,CARM;EAYbC,UAAU,EAAE;IACVV;EADU,CAZC;EAebW,OAAO,EAAE;IACPC,IAAI,EAAE,YAAY;MAChB,IAAI,KAAKN,OAAL,IAAgB,CAApB,EAAuB;QACrBP,KAAK,CAACc,GAAN,CAAU,2DAA2D,KAAKL,KAA1E,EACE;UACEM,OAAO,EAAE;YACP,gBAAgB;UADT;QADX,CADF,EAMGC,IANH,CAMSC,QAAD,IAAc;UAClB,KAAKZ,SAAL,GAAiBY,QAAQ,CAACf,IAAT,CAAc,CAAd,EAAiBgB,OAAlC,CADkB,CAElB;;UACA,IAAIC,MAAK,GAAI,IAAb;UACA,IAAIC,OAAM,GAAI,IAAd;;UACA,QAAQ,KAAKf,SAAL,CAAegB,IAAvB;YACE,KAAK,eAAL;cACED,OAAM,GAAI,KAAKE,OAAL,CAAaC,QAAvB;cACAJ,MAAK,GAAI,KAAKG,OAAL,CAAaE,OAAtB;cACA;;YACF,KAAK,SAAL;cACEJ,OAAM,GAAI,KAAKf,SAAL,CAAekB,QAAzB;cACAJ,MAAK,GAAI,KAAKd,SAAL,CAAemB,OAAxB;cACA;UARJ,CALkB,CAelB;;;UACA,KAAKC,WAAL,CACE,KAAKpB,SAAL,CAAeqB,eADjB,EAEEP,MAFF,EAGEC,OAHF,EAIE,KAAKf,SAAL,CAAegB,IAJjB;QAMD,CA5BH,EA6BGM,KA7BH,CA6BS,UAAUC,KAAV,EAAiB;UACtBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;QACD,CA/BH;MAgCF;IACF;EApCO,CAfI;;EAqDbG,OAAM,GAAK;IACT,KAAKlB,IAAL;EACF;;AAvDa,CAAf","names":["axios","ButtonComponent","data","link_signin","link_signout","user_info","props","is_auth","Number","token","String","components","methods","user","get","headers","then","response","message","userId","groupId","role","url_get","group_id","user_id","load_lesson","organization_id","catch","error","console","log","mounted"],"sourceRoot":"","sources":["/home/vuacheslavmironov/PAD/web/src/components/HeaderComponent.vue"],"sourcesContent":["<template>\n  <header class=\"container_fluid\">\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <div class=\"container-fluid container\">\n        <a class=\"navbar-brand\" href=\"#\">\n          <h2 class=\"text-center\">\n            <b>PAD</b>\n          </h2>\n        </a>\n        <!--\n        <button\n          class=\"navbar-toggler\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#navbarSupportedContent\"\n          aria-controls=\"navbarSupportedContent\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n        -->\n        <div class=\"collapse navbar-collapse d-flex\" id=\"navbarSupportedContent\">\n          <ul v-if=\"this.is_auth >= 0\" class=\"navbar-nav view-menu mb-2 mb-lg-0\">\n            <li class=\"nav-item\">\n              <a href=\"/journal-show\">Журнал</a>\n            </li>\n            <li class=\"nav-item\">\n              <a href=\"/journal-show\">Расписание</a>\n            </li>\n            <li\n              v-if=\"this.user_info.role === 'Директор' || this.user_info.role === 'Администратор'\"\n              class=\"nav-item\"\n            >\n              <a class=\"absolut-item\" href=\"/journal-show\">Студенты</a>\n            </li>\n            <li\n              v-if=\"this.user_info.role === 'Студент'\"\n              class=\"nav-item\"\n            >\n              <a class=\"absolut-item\" href=\"/journal-show\">Домашнии задания</a>\n            </li>\n          </ul>\n          <ul\n            v-if=\"this.is_auth >= 0\"\n            class=\"navbar-nav me-auto mb-2 l-60 w-50 mb-lg-0\"\n          >\n            <!-- Игры -->\n            <li class=\"nav-item\">\n              <a class=\"nav-link position-relative\" aria-current=\"page\" href=\"#\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" style=\"fill: rgba(0, 0, 0, 1);\">\n                  <path d=\"M19 3H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2zM5 19V5h14l.002 14H5z\"></path>\n                  <circle cx=\"8\" cy=\"8\" r=\"1.5\"></circle>\n                  <circle cx=\"12\" cy=\"12\" r=\"1.5\"></circle>\n                  <circle cx=\"16\" cy=\"16\" r=\"1.5\"></circle>\n                </svg>\n                <span id=\"new_game\" class=\"badge bg-danger\">new</span>\n              </a>\n            </li>\n            <!-- Тесты -->\n            <li class=\"nav-item\">\n              <a class=\"nav-link position-relative\" aria-current=\"page\" href=\"#\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" style=\"fill: rgba(0, 0, 0, 1);\">\n                  <path d=\"m13.293 2.707.818.818L3.318 14.318C2.468 15.168 2 16.298 2 17.5s.468 2.332 1.318 3.183C4.169 21.532 5.299 22 6.5 22s2.331-.468 3.182-1.318L20.475 9.889l.818.818 1.414-1.414-8-8-1.414 1.414zm3.182 8.354-2.403-2.404-1.414 1.414 2.403 2.404-1.414 1.415-.99-.99-1.414 1.414.99.99-1.415 1.415-2.403-2.404L7 15.728l2.403 2.404-1.136 1.136c-.945.944-2.59.944-3.535 0C4.26 18.795 4 18.168 4 17.5s.26-1.295.732-1.768L15.525 4.939l3.535 3.535-2.585 2.587z\"></path>\n                </svg>\n                <span class=\"position-absolute bottom-0 start-50 translate-middle badge rounded-pill bg-danger\">\n                  99+\n                  <span class=\"visually-hidden\">unread messages</span>\n                </span>\n              </a>\n            </li>\n            <!-- Сообщения -->\n            <li class=\"nav-item\">\n              <a class=\"nav-link position-relative\" aria-current=\"page\" href=\"#\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" style=\"fill: rgba(0, 0, 0, 1);\">\n                  <path d=\"M12 2C6.486 2 2 5.589 2 10c0 2.908 1.898 5.516 5 6.934V22l5.34-4.005C17.697 17.852 22 14.32 22 10c0-4.411-4.486-8-10-8zm0 14h-.333L9 18v-2.417l-.641-.247C5.67 14.301 4 12.256 4 10c0-3.309 3.589-6 8-6s8 2.691 8 6-3.589 6-8 6z\"></path>\n                </svg>\n                <span class=\"position-absolute bottom-0 start-50 translate-middle badge rounded-pill bg-danger\">\n                  99+\n                  <span class=\"visually-hidden\">unread messages</span>\n                </span>\n              </a>\n            </li>\n            <!-- Видео уроки -->\n            <li class=\"nav-item\">\n              <a class=\"nav-link position-relative\" aria-current=\"page\" href=\"#\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" style=\"fill: rgba(0, 0, 0, 1);\">\n                  <path d=\"M18 7c0-1.103-.897-2-2-2H4c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-3.333L22 17V7l-4 3.333V7zm-1.998 10H4V7h12l.001 4.999L16 12l.001.001.001 4.999z\"></path>\n                </svg>\n                <span class=\"position-absolute bottom-0 l-30 translate-middle p-1 bg-danger border border-light rounded-circle\">\n                  <span class=\"visually-hidden\">New alerts</span>\n                </span>\n              </a>\n            </li>\n          </ul>\n          <!-- Компонент кнопки для перехода на представление авторизации -->\n          <ButtonComponent\n            v-if=\"this.is_auth == -1\"\n            id=\"login_desktop\"\n            text=\"Войти\"\n            v-bind:link=this.link_signin\n            css_class=\"btn right\"\n            wrapper_css_class=\"w-100\"\n          />\n          <!-- Компонент кнопки логаута -->\n          <div class=\"w-100\">\n            <button\n              v-if=\"this.is_auth >= 0\"\n              id=\"btn_menu\"\n              type=\"button\"\n              class=\"right btn\"\n              data-bs-toggle=\"offcanvas\"\n              data-bs-target=\"#offcanvasRight\"\n              aria-controls=\"offcanvasRight\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" style=\"fill: rgba(0, 0, 0, 1);\">\n                <path d=\"M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z\"></path>\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n    </nav>\n  </header>\n</template>\n\n<script>\nimport axios from 'axios'\nimport ButtonComponent from '@/components/ButtonComponent.vue'\n\nexport default {\n  data () {\n    return {\n      link_signin: '/signin',\n      link_signout: '/signout',\n      user_info: null\n    }\n  },\n  props: {\n    is_auth: Number,\n    token: String\n  },\n  components: {\n    ButtonComponent\n  },\n  methods: {\n    user: function () {\n      if (this.is_auth >= 0) {\n        axios.get('http://localhost:5000/api/user/user-info?access_token=' + this.token,\n          {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          })\n          .then((response) => {\n            this.user_info = response.data[0].message\n            // Определение искомого ID\n            var userId = null\n            var groupId = null\n            switch (this.user_info.role) {\n              case 'Администратор':\n                groupId = this.url_get.group_id\n                userId = this.url_get.user_id\n                break\n              case 'Студент':\n                groupId = this.user_info.group_id\n                userId = this.user_info.user_id\n                break\n            }\n            // Вызывать методы использующие пользовательские данные ниже\n            this.load_lesson(\n              this.user_info.organization_id,\n              userId,\n              groupId,\n              this.user_info.role\n            )\n          })\n          .catch(function (error) {\n            console.log(error)\n          })\n      }\n    }\n  },\n  mounted () {\n    this.user()\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}