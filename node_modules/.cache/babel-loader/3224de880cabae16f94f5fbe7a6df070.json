{"ast":null,"code":"import axios from 'axios';\nimport AlertComponent from '@/components/AlertComponent.vue';\nexport default {\n  data() {\n    return {\n      user_info: null,\n      alert: '',\n      teacher_list: null,\n      alphabet: [{\n        symbol: 'А',\n        list: []\n      }, {\n        symbol: 'Б',\n        list: []\n      }, {\n        symbol: 'В',\n        list: []\n      }, {\n        symbol: 'Г',\n        list: []\n      }, {\n        symbol: 'Д',\n        list: []\n      }, {\n        symbol: 'Е',\n        list: []\n      }, {\n        symbol: 'Ё',\n        list: []\n      }, {\n        symbol: 'Ж',\n        list: []\n      }, {\n        symbol: 'З',\n        list: []\n      }, {\n        symbol: 'И',\n        list: []\n      }, {\n        symbol: 'Й',\n        list: []\n      }, {\n        symbol: 'К',\n        list: []\n      }, {\n        symbol: 'Л',\n        list: []\n      }, {\n        symbol: 'М',\n        list: []\n      }, {\n        symbol: 'Н',\n        list: []\n      }, {\n        symbol: 'О',\n        list: []\n      }, {\n        symbol: 'П',\n        list: []\n      }, {\n        symbol: 'Р',\n        list: []\n      }, {\n        symbol: 'С',\n        list: []\n      }, {\n        symbol: 'Т',\n        list: []\n      }, {\n        symbol: 'У',\n        list: []\n      }, {\n        symbol: 'Ф',\n        list: []\n      }, {\n        symbol: 'Х',\n        list: []\n      }, {\n        symbol: 'Ц',\n        list: []\n      }, {\n        symbol: 'Ч',\n        list: []\n      }, {\n        symbol: 'Ш',\n        list: []\n      }, {\n        symbol: 'Щ',\n        list: []\n      }, {\n        symbol: 'Ъ',\n        list: []\n      }, {\n        symbol: 'Ы',\n        list: []\n      }, {\n        symbol: 'Ь',\n        list: []\n      }, {\n        symbol: 'Э',\n        list: []\n      }, {\n        symbol: 'Ю',\n        list: []\n      }, {\n        symbol: 'Я',\n        list: []\n      }],\n      data_list: null,\n      info: 0\n    };\n  },\n\n  props: {\n    is_auth: Number,\n    token: String\n  },\n  components: {\n    AlertComponent\n  },\n  methods: {\n    user: function () {\n      if (this.is_auth >= 0) {\n        axios.get('http://localhost:5000/api/user/user-info?access_token=' + this.token, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(response => {\n          this.user_info = response.data[0].message; // Вызывать методы использующие пользовательские данные ниже\n\n          this.teacher_info(this.user_info.organization_id);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    },\n\n    symbols(list) {\n      var count = 0;\n\n      while (list.length > count) {\n        for (var i = 0; i < this.alphabet.length; i++) {\n          if (this.alphabet[i].symbol === list[count].last_name[0]) {\n            this.alphabet[i].list.push({\n              user_id: list[count].user_id,\n              first_name: list[count].first_name,\n              last_name: list[count].last_name\n            });\n          }\n        }\n\n        count++;\n      }\n    },\n\n    teacher_info: function (organizationId) {\n      if (this.is_auth >= 0) {\n        axios.get('http://localhost:5000/api/user/all-user?role=Преподаватель&&organization_id=' + organizationId, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(response => {\n          this.teacher_list = response.data[0].message.users;\n          this.symbols(this.teacher_list);\n          var i = 0;\n\n          while (this.alphabet > i) {\n            if (this.alphabet[i].list.length > 0) {\n              this.inform(this.alphabet[i].symbol);\n              break;\n            }\n\n            i++;\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    },\n\n    inform(symbol) {\n      this.info = 1;\n      var i = 0;\n\n      while (i < this.alphabet.length) {\n        if (symbol === this.alphabet[i].symbol) {\n          this.data_list = this.alphabet[i].list;\n          break;\n        }\n\n        i++;\n      }\n    }\n\n  },\n\n  mounted() {\n    this.user();\n  }\n\n};","map":{"version":3,"mappings":"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","names":["axios","AlertComponent","data","user_info","alert","teacher_list","alphabet","symbol","list","data_list","info","props","is_auth","Number","token","String","components","methods","user","get","headers","then","response","message","teacher_info","organization_id","catch","error","console","log","symbols","count","length","i","last_name","push","user_id","first_name","organizationId","users","inform","mounted"],"sourceRoot":"","sources":["/home/vuacheslavmironov/PAD/web/src/views/TimetableTicherView.vue"],"sourcesContent":["<template>\n    <main class=\"container_fluid\">\n        <!-- Компонент сообщения -->\n        <AlertComponent css_class=\"toast align-items-cente right\" v-bind:mess=\"this.alert\" />\n        <!-- END -->\n        <div class=\"container\">\n            <div class=\"row\">\n              <div class=\"col-12 mb-5\">\n                <ul class=\"d-flex\">\n                  <li\n                    v-for=\"i in this.alphabet\"\n                    v-bind:key=\"i\"\n                  >\n                    <strong\n                      v-on:click=\"inform(i.symbol)\"\n                      v-bind:class=\"i.list.length > 0 ? 'list m-07' : 'text-block m-07'\"\n                    >{{ i.symbol }}</strong>\n                  </li>\n                </ul>\n              </div>\n              <div\n                v-if=\"this.info === 1\"\n                class=\"col-12\">\n                  <div class=\"row\">\n                    <div\n                      v-for=\"i in this.data_list\"\n                      v-bind:key=\"i\"\n                      class=\"col-2\"\n                    >\n                      <a\n                        class=\"mt-3 d-block\"\n                        v-bind:href=\"'/timetable-teacher-show?user_id=' +i.user_id \"\n                      >\n                        {{ i.last_name }} {{i.first_name }}\n                      </a>\n                    </div>\n                  </div>\n              </div>\n              <div\n                v-else\n                class=\"col-12\">\n                  <div class=\"mt-5 mb-5\">\n                    <h4 class=\"text-center\">\n                      <smail>Выберите преподавателя по алфавиту</smail>\n                    </h4>\n                  </div>\n              </div>\n            </div>\n        </div>\n    </main>\n</template>\n\n<script>\nimport axios from 'axios'\nimport AlertComponent from '@/components/AlertComponent.vue'\n\nexport default {\n  data () {\n    return {\n      user_info: null,\n      alert: '',\n      teacher_list: null,\n      alphabet: [\n        { symbol: 'А', list: [] },\n        { symbol: 'Б', list: [] },\n        { symbol: 'В', list: [] },\n        { symbol: 'Г', list: [] },\n        { symbol: 'Д', list: [] },\n        { symbol: 'Е', list: [] },\n        { symbol: 'Ё', list: [] },\n        { symbol: 'Ж', list: [] },\n        { symbol: 'З', list: [] },\n        { symbol: 'И', list: [] },\n        { symbol: 'Й', list: [] },\n        { symbol: 'К', list: [] },\n        { symbol: 'Л', list: [] },\n        { symbol: 'М', list: [] },\n        { symbol: 'Н', list: [] },\n        { symbol: 'О', list: [] },\n        { symbol: 'П', list: [] },\n        { symbol: 'Р', list: [] },\n        { symbol: 'С', list: [] },\n        { symbol: 'Т', list: [] },\n        { symbol: 'У', list: [] },\n        { symbol: 'Ф', list: [] },\n        { symbol: 'Х', list: [] },\n        { symbol: 'Ц', list: [] },\n        { symbol: 'Ч', list: [] },\n        { symbol: 'Ш', list: [] },\n        { symbol: 'Щ', list: [] },\n        { symbol: 'Ъ', list: [] },\n        { symbol: 'Ы', list: [] },\n        { symbol: 'Ь', list: [] },\n        { symbol: 'Э', list: [] },\n        { symbol: 'Ю', list: [] },\n        { symbol: 'Я', list: [] }\n      ],\n      data_list: null,\n      info: 0\n    }\n  },\n  props: {\n    is_auth: Number,\n    token: String\n  },\n  components: {\n    AlertComponent\n  },\n  methods: {\n    user: function () {\n      if (this.is_auth >= 0) {\n        axios.get('http://localhost:5000/api/user/user-info?access_token=' + this.token,\n          {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          })\n          .then((response) => {\n            this.user_info = response.data[0].message\n            // Вызывать методы использующие пользовательские данные ниже\n            this.teacher_info(this.user_info.organization_id)\n          })\n          .catch(function (error) {\n            console.log(error)\n          })\n      }\n    },\n    symbols (list) {\n      var count = 0\n      while (list.length > count) {\n        for (var i = 0; i < this.alphabet.length; i++) {\n          if (this.alphabet[i].symbol === list[count].last_name[0]) {\n            this.alphabet[i].list.push({\n              user_id: list[count].user_id,\n              first_name: list[count].first_name,\n              last_name: list[count].last_name\n            })\n          }\n        }\n        count++\n      }\n    },\n    teacher_info: function (organizationId) {\n      if (this.is_auth >= 0) {\n        axios.get('http://localhost:5000/api/user/all-user?role=Преподаватель&&organization_id=' + organizationId,\n          {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          })\n          .then((response) => {\n            this.teacher_list = response.data[0].message.users\n            this.symbols(this.teacher_list)\n            var i = 0\n            while (this.alphabet > i) {\n              if (this.alphabet[i].list.length > 0) {\n                this.inform(this.alphabet[i].symbol)\n                break\n              }\n              i++\n            }\n          })\n          .catch(function (error) {\n            console.log(error)\n          })\n      }\n    },\n    inform (symbol) {\n      this.info = 1\n      var i = 0\n      while (i < this.alphabet.length) {\n        if (symbol === this.alphabet[i].symbol) {\n          this.data_list = this.alphabet[i].list\n          break\n        }\n        i++\n      }\n    }\n  },\n  mounted () {\n    this.user()\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}