{"ast":null,"code":"import axios from 'axios';\nimport AlertComponent from '@/components/AlertComponent.vue';\nimport CardFormComponent from '@/components/cards/CardFormComponent.vue';\nimport ButtonComponent from '@/components/ButtonComponent.vue';\nexport default {\n  data() {\n    return {\n      alert: '',\n      email: ''\n    };\n  },\n\n  components: {\n    CardFormComponent,\n    ButtonComponent,\n    AlertComponent\n  },\n  methods: {\n    loginUser() {\n      if (this.email) {\n        axios.put('http://localhost:5000/api/email/reset-password', {\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Headers': 'Origin, Content-Type, X-Auth-Token, Authorization, Accept,charset,boundary,Content-Length'\n          },\n          email: this.email\n        }).then(function (response) {\n          window.location.href = '/signin';\n        }).catch(function (error) {\n          console.log(error);\n\n          if (error.response.status === 500) {\n            self.alert = 'Такого пользователя не существует!'; // Активация всплывающего сообщения\n\n            document.getElementById('toast').style.opacity = 1;\n          }\n        });\n      } else {\n        this.alert = 'Укажите адрес электронной почты!'; // Активация всплывающего сообщения\n\n        document.getElementById('toast').style.opacity = 1;\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAiCA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,iBAAP,MAA8B,0CAA9B;AACA,OAAOC,eAAP,MAA4B,kCAA5B;AAEA,eAAe;EACbC,IAAG,GAAK;IACN,OAAO;MACLC,KAAK,EAAE,EADF;MAELC,KAAK,EAAE;IAFF,CAAP;EAID,CANY;;EAObC,UAAU,EAAE;IACVL,iBADU;IAEVC,eAFU;IAGVF;EAHU,CAPC;EAYbO,OAAO,EAAE;IACPC,SAAQ,GAAK;MACX,IAAI,KAAKH,KAAT,EAAgB;QACdN,KAAK,CAACU,GAAN,CAAU,gDAAV,EACE;UACEC,OAAO,EAAE;YACP,gBAAgB,kBADT;YAEP,+BAA+B,GAFxB;YAGP,gCAAgC;UAHzB,CADX;UAMEL,KAAK,EAAE,KAAKA;QANd,CADF,EAUGM,IAVH,CAUQ,UAAUC,QAAV,EAAoB;UACxBC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,SAAvB;QACD,CAZH,EAaGC,KAbH,CAaS,UAAUC,KAAV,EAAiB;UACtBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;;UACA,IAAIA,KAAK,CAACL,QAAN,CAAeQ,MAAf,KAA0B,GAA9B,EAAmC;YACjCC,IAAI,CAACjB,KAAL,GAAa,oCAAb,CADiC,CAEjC;;YACAkB,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAAjC,CAAuCC,OAAvC,GAAiD,CAAjD;UACF;QACD,CApBH;MAqBF,CAtBA,MAsBO;QACL,KAAKrB,KAAL,GAAa,kCAAb,CADK,CAEL;;QACAkB,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAAjC,CAAuCC,OAAvC,GAAiD,CAAjD;MACF;IACF;;EA7BO;AAZI,CAAf","names":["axios","AlertComponent","CardFormComponent","ButtonComponent","data","alert","email","components","methods","loginUser","put","headers","then","response","window","location","href","catch","error","console","log","status","self","document","getElementById","style","opacity"],"sourceRoot":"","sources":["/home/vuacheslavmironov/PAD/web/src/views/PasswordResetView.vue"],"sourcesContent":["<template>\n  <main class=\"container_fluid\">\n    <!-- Компонент сообщения -->\n    <AlertComponent css_class=\"toast align-items-cente right\" v-bind:mess=\"this.alert\" />\n    <!-- END -->\n    <div class=\"container\">\n      <CardFormComponent>\n        <div class=\"container mb-3 text-center\">\n          <p>\n            <strong>Введите адрес электронной почты, на неё мы вышлем вам письмо с новым паролем.</strong>\n          </p>\n        </div>\n        <form>\n          <div class=\"mb-3\">\n            <label class=\"form-label\">\n              <b>Введите E-mail</b>\n            </label>\n            <input type=\"email\" id=\"user_email\" v-model=\"email\" class=\"form-control\">\n          </div>\n          <div class=\"row\">\n            <div class=\"col-6\"></div>\n            <div class=\"col-6\">\n              <!-- Компонент кнопки -->\n              <ButtonComponent text=\"Отправить\" v-on:click=\"this.loginUser()\" css_class=\"btn mt-2 right\"/>\n            </div>\n          </div>\n        </form>\n      </CardFormComponent>\n    </div>\n  </main>\n</template>\n\n<script>\nimport axios from 'axios'\nimport AlertComponent from '@/components/AlertComponent.vue'\nimport CardFormComponent from '@/components/cards/CardFormComponent.vue'\nimport ButtonComponent from '@/components/ButtonComponent.vue'\n\nexport default {\n  data () {\n    return {\n      alert: '',\n      email: ''\n    }\n  },\n  components: {\n    CardFormComponent,\n    ButtonComponent,\n    AlertComponent\n  },\n  methods: {\n    loginUser () {\n      if (this.email) {\n        axios.put('http://localhost:5000/api/email/reset-password',\n          {\n            headers: {\n              'Content-Type': 'application/json',\n              'Access-Control-Allow-Origin': '*',\n              'Access-Control-Allow-Headers': 'Origin, Content-Type, X-Auth-Token, Authorization, Accept,charset,boundary,Content-Length'\n            },\n            email: this.email\n          }\n        )\n          .then(function (response) {\n            window.location.href = '/signin'\n          })\n          .catch(function (error) {\n            console.log(error)\n            if (error.response.status === 500) {\n              self.alert = 'Такого пользователя не существует!'\n              // Активация всплывающего сообщения\n              document.getElementById('toast').style.opacity = 1\n            }\n          })\n      } else {\n        this.alert = 'Укажите адрес электронной почты!'\n        // Активация всплывающего сообщения\n        document.getElementById('toast').style.opacity = 1\n      }\n    }\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}