{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_2 = {\n  class: \"mx-auto\"\n};\nconst _hoisted_3 = {\n  class: \"row p-5\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"col\"\n}, [/*#__PURE__*/_createElementVNode(\"b\", null, \"Все студенты\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_6 = {\n  class: \"row\"\n};\nconst _hoisted_7 = {\n  class: \"mb-5\"\n};\nconst _hoisted_8 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_LoaderComponent = _resolveComponent(\"LoaderComponent\");\n\n  const _component_AlertComponent = _resolveComponent(\"AlertComponent\");\n\n  return _openBlock(), _createElementBlock(\"main\", _hoisted_1, [_createCommentVNode(\" Компонент загрузки \"), _createVNode(_component_LoaderComponent), _createCommentVNode(\" End \"), _createCommentVNode(\" Сообщение о процессе \"), _createVNode(_component_AlertComponent, {\n    css_class: \"toast align-items-cente right\",\n    mess: this.alert\n  }, null, 8\n  /* PROPS */\n  , [\"mess\"]), _createCommentVNode(\" END \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.user_list, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: _normalizeClass(item.users > 0 ? '' : 'col-3'),\n      key: item\n    }, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h3\", null, _toDisplayString(item.sumbol), 1\n    /* TEXT */\n    ), _createElementVNode(\"ol\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.users, user => {\n      return _openBlock(), _createElementBlock(\"li\", {\n        key: user\n      }, [_createElementVNode(\"a\", {\n        href: '/journal-show?user_id=' + user.user_id + '&&group_id=' + user.group_id\n      }, _toDisplayString(user.last_name) + \" \" + _toDisplayString(user.first_name), 9\n      /* TEXT, PROPS */\n      , _hoisted_8)]);\n    }), 128\n    /* KEYED_FRAGMENT */\n    ))])])], 2\n    /* CLASS */\n    );\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])])])]);\n}","map":{"version":3,"mappings":";;EACUA,KAAK,EAAC;;;EAOHA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;gCACPC,oBAEK,IAFL,EAEK;EAFDD,KAAK,EAAC;AAEL,CAFL,EAAe,cACXC,oBAAmB,GAAnB,EAAmB,IAAnB,EAAG,cAAH,CADW,CAAf;;AAAA;;;EAGKD,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EAMEA,KAAK,EAAC;;;;;;;;uBAnBnCE,oBAmCO,MAnCP,cAmCO,CAlCHC,2CAkCG,EAjCHC,aAAmBC,0BAAnB,CAiCG,EAhCHF,4BAgCG,EA/BHA,6CA+BG,EA9BHC,aAAqFE,yBAArF,EAAqF;IAArEC,SAAS,EAAC,+BAA2D;IAApBC,IAAI,OAAOC;EAAS,CAArF;;EAAA,WA8BG,EA7BHN,4BA6BG,EA5BHF,oBA2BM,KA3BN,cA2BM,CA1BFA,oBAyBM,KAzBN,cAyBM,CAxBFS,UAwBE,EArBFT,oBAoBM,KApBN,cAoBM,CAnBFA,oBAkBM,KAlBN,cAkBM,oBAjBFC,oBAgBMS,SAhBN,EAgBM,IAhBN,EAgBMC,iBAdgBC,SAchB,EAdGC,IAAsB,IAAlB;yBAFbZ,oBAgBM,KAhBN,EAgBM;MAfGF,KAAK,kBAAEc,IAAI,CAACC,KAAL,GAAU,CAAV,GAAU,EAAV,GAAU,OAAZ,CAeR;MAbGC,GAAG,EAAEF;IAaR,CAhBN,GAKIb,oBAUM,KAVN,cAUM,CATJA,oBAA0B,IAA1B,EAA0B,IAA1B,EAA0BgB,iBAAnBH,IAAI,CAACI,MAAc,CAA1B,EAAkB;IAAA;IAAlB,CASI,EARJjB,oBAOK,IAPL,EAOK,IAPL,EAOK,oBANDC,oBAKoDS,SALpD,EAKoD,IALpD,EAKoDC,YAJnCE,IAAI,CAACC,KAI8B,EAJ3CI,IAAkB,IAAd;2BADbjB,oBAKoD,IALpD,EAKoD;QAH3Cc,GAAG,EAAEG;MAGsC,CALpD,EAEkB,CACjBlB,oBAE8C,GAF9C,EAE8C;QADtCmB,IAAI,6BAA6BD,IAAI,CAACE,OAAlC,GAAyC,aAAzC,GAA4DF,IAAI,CAACG;MAC/B,CAF9C,mBAEGH,IAAI,CAACI,aAAY,MAACN,iBAAGE,IAAI,CAACK,UAAR,CAFrB,EAEuC;MAAA;MAFvC,EAEuCC,UAFvC,CADiB,CAFlB;KAKoD,CALpD;;IAAA,CAMC,EAPL,CAQI,CAVN,EALJ;;IAAA;GAgBM,CAhBN;;EAAA,CAiBE,EAlBN,CAmBE,CApBN,CAqBE,CAzBN,CA0BE,CA3BN,CA4BG,CAnCP","names":["class","_createElementVNode","_createElementBlock","_createCommentVNode","_createVNode","_component_LoaderComponent","_component_AlertComponent","css_class","mess","alert","_hoisted_4","_Fragment","_renderList","user_list","item","users","key","_toDisplayString","sumbol","user","href","user_id","group_id","last_name","first_name","_hoisted_8"],"sourceRoot":"","sources":["/home/vuacheslavmironov/PAD/web/src/views/StudentsAlllView.vue"],"sourcesContent":["<template>\n    <main class=\"container-fluid\">\n        <!-- Компонент загрузки -->\n        <LoaderComponent />\n        <!-- End -->\n        <!-- Сообщение о процессе -->\n        <AlertComponent css_class=\"toast align-items-cente right\" v-bind:mess=\"this.alert\" />\n        <!-- END -->\n        <div class=\"mx-auto\">\n            <div class=\"row p-5\">\n                <h2 class=\"col\">\n                    <b>Все студенты</b>\n                </h2>\n                <div class=\"container mt-5\">\n                    <div class=\"row\">\n                        <div\n                          v-bind:class=\"item.users > 0 ? '' : 'col-3'\"\n                          v-for=\"item in this.user_list\"\n                          v-bind:key=\"item\"\n                        >\n                            <div class=\"mb-5\">\n                              <h3>{{ item.sumbol }}</h3>\n                              <ol>\n                                  <li\n                                    v-for=\"user in item.users\"\n                                    v-bind:key=\"user\"\n                                  ><a\n                                    v-bind:href=\"'/journal-show?user_id=' + user.user_id + '&&group_id=' + user.group_id\"\n                                  >{{ user.last_name }} {{ user.first_name }}</a></li>\n                              </ol>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </main>\n</template>\n\n<script>\nimport axios from 'axios'\nimport AlertComponent from '@/components/AlertComponent.vue'\nimport LoaderComponent from '@/components/LoaderComponent.vue'\n\nexport default {\n  data () {\n    return {\n      alert: null,\n      user_info: null,\n      user_list: null\n    }\n  },\n  props: {\n    is_auth: Number,\n    token: String\n  },\n  components: {\n    LoaderComponent,\n    AlertComponent\n  },\n  methods: {\n    user: function () {\n      if (this.is_auth >= 0) {\n        axios.get('http://localhost:5000/api/user/user-info?access_token=' + this.token,\n          {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }\n        )\n          .then((response) => {\n            this.user_info = response.data[0].message\n            // Вызывать методы использующие пользовательские данные ниже\n            this.all_group(this.user_info.organization_id)\n          })\n          .catch(function (error) {\n            console.log(error)\n          })\n      }\n    },\n    all_group (organizationId) {\n      axios.get('http://localhost:5000/api/group/show-group?group_id=-1' + '&&organization_id=' + organizationId,\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n          }\n        })\n        .then((response) => {\n          response.data[0].message.list_belongs.sort((a, b) => a.last_name > b.last_name ? 1 : -1)\n          var users = response.data[0].message.list_belongs\n          var list = [\n            { sumbol: 'А', users: [] },\n            { sumbol: 'Б', users: [] },\n            { sumbol: 'В', users: [] },\n            { sumbol: 'Г', users: [] },\n            { sumbol: 'Д', users: [] },\n            { sumbol: 'Е', users: [] },\n            { sumbol: 'Ё', users: [] },\n            { sumbol: 'Ж', users: [] },\n            { sumbol: 'З', users: [] },\n            { sumbol: 'И', users: [] },\n            { sumbol: 'Й', users: [] },\n            { sumbol: 'К', users: [] },\n            { sumbol: 'Л', users: [] },\n            { sumbol: 'М', users: [] },\n            { sumbol: 'Н', users: [] },\n            { sumbol: 'О', users: [] },\n            { sumbol: 'П', users: [] },\n            { sumbol: 'Р', users: [] },\n            { sumbol: 'С', users: [] },\n            { sumbol: 'Т', users: [] },\n            { sumbol: 'У', users: [] },\n            { sumbol: 'Ф', users: [] },\n            { sumbol: 'Х', users: [] },\n            { sumbol: 'Ц', users: [] },\n            { sumbol: 'Ч', users: [] },\n            { sumbol: 'Ш', users: [] },\n            { sumbol: 'Щ', users: [] },\n            { sumbol: 'ъ', users: [] },\n            { sumbol: 'Ы', users: [] },\n            { sumbol: 'Ь', users: [] },\n            { sumbol: 'Э', users: [] },\n            { sumbol: 'Ю', users: [] },\n            { sumbol: 'Я', users: [] }\n          ]\n          for (var count = 0; count < users.length; count++) {\n            for (var i = 0; i < list.length; i++) {\n              if (list[i].sumbol === users[count].last_name[0]) {\n                list[i].users.push({\n                  user_id: users[count].user_id,\n                  last_name: users[count].last_name,\n                  first_name: users[count].first_name,\n                  group_id: users[count].group_id\n                })\n              }\n            }\n          }\n          this.user_list = list\n        })\n    }\n  },\n  mounted () {\n    this.user()\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}