{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_2 = {\n  class: \"mx-auto\"\n};\nconst _hoisted_3 = {\n  class: \"container\"\n};\nconst _hoisted_4 = {\n  ref: \"bottomMenu\",\n  class: \"offcanvas offcanvas-bottom\",\n  \"data-bs-scroll\": \"true\",\n  tabindex: \"-1\",\n  id: \"addGroupBottom\",\n  \"aria-labelledby\": \"offcanvasBottomLabel\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"offcanvas-header\"\n}, [/*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"offcanvas-title\",\n  id: \"offcanvasBottomLabel\"\n}), /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close text-reset\",\n  \"data-bs-dismiss\": \"offcanvas\",\n  \"aria-label\": \"Close\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = {\n  class: \"offcanvas-body small\"\n};\nconst _hoisted_7 = {\n  class: \"col-6 mx-auto\"\n};\nconst _hoisted_8 = {\n  class: \"mb-3\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, [/*#__PURE__*/_createElementVNode(\"b\", null, \"Введите название группы\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_10 = {\n  class: \"row\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"mt-8\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_12 = {\n  class: \"container\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"b\", null, \"@\", -1\n/* HOISTED */\n);\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_15 = {\n  class: \"row\"\n};\nconst _hoisted_16 = {\n  class: \"col-4\"\n};\nconst _hoisted_17 = [\"href\"];\nconst _hoisted_18 = {\n  class: \"col-4\"\n};\nconst _hoisted_19 = [\"href\"];\nconst _hoisted_20 = {\n  class: \"col-4\"\n};\nconst _hoisted_21 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_LoaderComponent = _resolveComponent(\"LoaderComponent\");\n\n  const _component_AlertComponent = _resolveComponent(\"AlertComponent\");\n\n  const _component_ButtonComponent = _resolveComponent(\"ButtonComponent\");\n\n  const _component_CardFormComponent = _resolveComponent(\"CardFormComponent\");\n\n  return _openBlock(), _createElementBlock(\"main\", _hoisted_1, [_createCommentVNode(\" Компонент загрузки \"), _createVNode(_component_LoaderComponent), _createCommentVNode(\" End \"), _createCommentVNode(\" Сообщение о процессе \"), _createVNode(_component_AlertComponent, {\n    css_class: \"toast align-items-cente right\",\n    mess: this.alert\n  }, null, 8\n  /* PROPS */\n  , [\"mess\"]), _createCommentVNode(\" END \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Компонент кнопки \"), _createVNode(_component_ButtonComponent, {\n    text: \"Создать группу\",\n    css_class: \"btn mt-2 right\",\n    type: \"button\",\n    \"data-bs-toggle\": \"offcanvas\",\n    \"data-bs-target\": \"#addGroupBottom\",\n    \"aria-controls\": \"offcanvasBottom\"\n  }), _createCommentVNode(\" END \"), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"form\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.group_name = $event),\n    class: \"form-control\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.group_name]])]), _createCommentVNode(\" Компонент кнопки \"), _createVNode(_component_ButtonComponent, {\n    text: \"Создать группу\",\n    onClick: _cache[1] || (_cache[1] = $event => this.create_group()),\n    css_class: \"btn mt-2 right\"\n  }), _createCommentVNode(\" END \")])])], 512\n  /* NEED_PATCH */\n  )]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.group_list, i => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"col-6\",\n      key: i\n    }, [_createVNode(_component_CardFormComponent, {\n      class: \"mt-2 col-11\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"p\", null, [_hoisted_13, _createTextVNode(\"_\" + _toDisplayString(i.name), 1\n      /* TEXT */\n      )])]), _hoisted_14, _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"a\", {\n        href: 'group-show?group_id=' + i.id,\n        class: \"btn\"\n      }, \"Редактировать\", 8\n      /* PROPS */\n      , _hoisted_17)]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"a\", {\n        href: '/journal-group?group_id=' + i.id,\n        class: \"btn w-90\"\n      }, \"Ведомость\", 8\n      /* PROPS */\n      , _hoisted_19)]), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"a\", {\n        href: '/drop-group?group_id=' + i.id,\n        class: \"btn w-90\"\n      }, \"Удалить\", 8\n      /* PROPS */\n      , _hoisted_21)])])]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1024\n    /* DYNAMIC_SLOTS */\n    )]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])]);\n}","map":{"version":3,"mappings":"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","names":["class","ref","tabindex","id","_createElementVNode","type","_createElementBlock","_createCommentVNode","_createVNode","_component_LoaderComponent","_component_AlertComponent","css_class","mess","alert","_component_ButtonComponent","text","_hoisted_5","_hoisted_9","$data","$event","onClick","create_group","_hoisted_11","_Fragment","_renderList","group_list","i","key","_component_CardFormComponent","_hoisted_13","_toDisplayString","name","_hoisted_14","href","_hoisted_17","_hoisted_19","_hoisted_21"],"sourceRoot":"","sources":["/home/vuacheslavmironov/PAD/web/src/views/GroupAllView.vue"],"sourcesContent":["<template>\n    <main class=\"container-fluid\">\n        <!-- Компонент загрузки -->\n        <LoaderComponent />\n        <!-- End -->\n        <!-- Сообщение о процессе -->\n        <AlertComponent css_class=\"toast align-items-cente right\" v-bind:mess=\"this.alert\" />\n        <!-- END -->\n        <div class=\"mx-auto\">\n            <div class=\"container\">\n                <!-- Компонент кнопки -->\n                <ButtonComponent\n                    text=\"Создать группу\"\n                    css_class=\"btn mt-2 right\"\n                    type=\"button\"\n                    data-bs-toggle=\"offcanvas\"\n                    data-bs-target=\"#addGroupBottom\"\n                    aria-controls=\"offcanvasBottom\"\n                />\n                <!-- END -->\n                <div ref='bottomMenu' class=\"offcanvas offcanvas-bottom\" data-bs-scroll=\"true\" tabindex=\"-1\" id=\"addGroupBottom\" aria-labelledby=\"offcanvasBottomLabel\">\n                    <div class=\"offcanvas-header\">\n                        <h5 class=\"offcanvas-title\" id=\"offcanvasBottomLabel\"></h5>\n                        <button type=\"button\" class=\"btn-close text-reset\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"offcanvas-body small\">\n                        <form class=\"col-6 mx-auto\">\n                            <div class=\"mb-3\">\n                                <label class=\"form-label\">\n                                <b>Введите название группы</b>\n                                </label>\n                                <input type=\"text\" v-model=\"group_name\" class=\"form-control\">\n                            </div>\n                            <!-- Компонент кнопки -->\n                            <ButtonComponent\n                                text=\"Создать группу\"\n                                v-on:click=\"this.create_group()\"\n                                css_class=\"btn mt-2 right\"\n                            />\n                            <!-- END -->\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"mt-8\"></div>\n                <div class=\"col-6\" v-for=\"i in this.group_list\" v-bind:key=\"i\">\n                    <CardFormComponent class=\"mt-2 col-11\">\n                    <div class=\"container\">\n                      <p><b>@</b>_{{ i.name }}</p>\n                    </div>\n                    <hr>\n                    <div class=\"row\">\n                      <div class=\"col-4\">\n                        <a\n                          v-bind:href=\"'group-show?group_id=' + i.id\"\n                          class=\"btn\"\n                        >Редактировать</a>\n                      </div>\n                      <div class=\"col-4\">\n                        <a\n                          v-bind:href=\"'/journal-group?group_id=' + i.id\"\n                          class=\"btn w-90\"\n                        >Ведомость</a>\n                      </div>\n                      <div class=\"col-4\">\n                        <a\n                          v-bind:href=\"'/drop-group?group_id=' + i.id\"\n                          class=\"btn w-90\"\n                        >Удалить</a>\n                      </div>\n                    </div>\n                  </CardFormComponent>\n                </div>\n            </div>\n        </div>\n    </main>\n</template>\n\n<script>\nimport axios from 'axios'\nimport AlertComponent from '@/components/AlertComponent.vue'\n// import CardFormComponent from '@/components/cards/CardFormComponent.vue'\nimport LoaderComponent from '@/components/LoaderComponent.vue'\nimport ButtonComponent from '@/components/ButtonComponent.vue'\nimport CardFormComponent from '@/components/cards/CardFormComponent.vue'\n\nexport default {\n  data () {\n    return {\n      alert: null,\n      user_info: null,\n      group_name: null,\n      group_list: null\n    }\n  },\n  props: {\n    is_auth: Number,\n    token: String\n  },\n  components: {\n    // CardFormComponent,\n    LoaderComponent,\n    ButtonComponent,\n    AlertComponent,\n    CardFormComponent\n  },\n  methods: {\n    user: function () {\n      if (this.is_auth >= 0) {\n        axios.get('http://localhost:5000/api/user/user-info?access_token=' + this.token,\n          {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }\n        )\n          .then((response) => {\n            this.user_info = response.data[0].message\n            // Вызывать методы использующие пользовательские данные ниже\n            this.all_group(this.user_info.organization_id)\n          })\n          .catch(function (error) {\n            console.log(error)\n          })\n      }\n    },\n    create_group () {\n      // Активация лоадера\n      document.getElementById('loader-bg').style.display = 'block'\n      // END\n      axios.post('http://localhost:5000/api/group/create-group',\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Headers': 'Origin, Content-Type, X-Auth-Token, Authorization, Accept,charset,boundary,Content-Length'\n          },\n          organization_id: this.user_info.organization_id,\n          user_id: this.user_info.user_id,\n          name: this.group_name\n        })\n        .then((response) => {\n          this.alert = 'Данные сохранены'\n          // Активация всплывающего сообщения\n          document.getElementById('toast').style.opacity = 1\n          // Деактивация лоадера\n          document.getElementById('loader-bg').style.display = 'none'\n          // Сокрытие блока добавления\n          this.$refs.bottomMenu.style.visibility = 'hidden'\n          document.querySelector('.modal-backdrop').style.opacity = '0'\n          this.group_name = ''\n        })\n    },\n    all_group (organizationId) {\n      axios.get('http://localhost:5000/api/group/all-group?organization_id=' + organizationId,\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n          }\n        })\n        .then((response) => {\n          this.group_list = response.data[0].message.list\n        })\n    }\n  },\n  mounted () {\n    this.user()\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}